(function($){$.yeOldTimer=function(options){var settings=$.extend({utcOffset:-((new Date).getTimezoneOffset()/60),year:(new Date).getFullYear(),month:(new Date).getMonth(),day:(new Date).getDate()+1,hour:0,min:0,second:0,milsec:0,$tmrWrapper:$(".tmr_wrapper"),$daysElem:$(".tmr_days"),$daysWrapElem:$(".tmr_days_wrapper"),$hrsElem:$(".tmr_hours"),$minElem:$(".tmr_minutes"),$secElem:$(".tmr_seconds"),expireCallback:null},options);function startTimer(duration,settings){var showTimer=true,timer=duration,
interval=setInterval(intervalCallback,1E3),days,daysAfter,hours,hoursAfter,minutes,seconds;function setTime(timer){if(parseInt(timer/3600,10)<24){hours=parseInt(timer/3600,10);hoursAfter=timer-hours*3600}else{days=parseInt(timer/86400,10);daysAfter=timer-days*86400;hours=parseInt(daysAfter/3600,10);hoursAfter=daysAfter-hours*3600}minutes=parseInt(hoursAfter/60,10);seconds=parseInt(timer%60,10);hours=hours<10?"0"+hours:hours;minutes=minutes<10?"0"+minutes:minutes;seconds=seconds<10?"0"+seconds:seconds;
if(days>1)settings.$daysElem.text(days);else settings.$daysWrapElem.hide();settings.$hrsElem.text(hours);settings.$minElem.text(minutes);settings.$secElem.text(seconds)}function intervalCallback(){if(timer<=0){settings.$tmrWrapper.hide();clearInterval(interval);if(expireCallback)expireCallback()}else{setTime(timer);if(showTimer){settings.$tmrWrapper.show();showTimer=false}timer=timer-1}}}function getTimeDiffSec(){var currentDate=new Date,endDate=new Date(settings.year,settings.month,settings.day,
settings.hour,settings.min,settings.second,settings.milsec),currentOffset=-(currentDate.getTimezoneOffset()/60),utcOffsetDiff=settings.utcOffset-currentOffset,timeDiffMil,endDateAdjMil=endDate.getTime(),timeDiffSec;function getEndDateAdjMil(utcOffsetDiff){var adjMil=endDate.getTime()+utcOffsetDiff*3600;return adjMil}if(utcOffsetDiff>0)endDateAdjMil=getEndDateAdjMil(Math.abs(utcOffsetDiff));else if(utcOffsetDiff<0)endDateAdjMil=getEndDateAdjMil(utcOffsetDiff);timeDiffMil=endDateAdjMil-currentDate.getTime();
timeDiffSec=timeDiffMil/1E3;return timeDiffSec}var timeDiffSec=getTimeDiffSec();if(timeDiffSec>0)startTimer(timeDiffSec,settings)}})(jQuery);
